/*!
 * bootstrap-star-rating v4.0.2
 * http://plugins.krajee.com/star-rating
 *
 * Author: Kartik Visweswaran
 * Copyright: 2014 - 2016, Kartik Visweswaran, Krajee.com
 *
 * Licensed under the BSD 3-Clause
 * https://github.com/kartik-v/bootstrap-star-rating/blob/master/LICENSE.md
 */!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=a(require("jquery")):a(window.jQuery)}(function(a){"use strict";a.fn.ratingLocales={},a.fn.ratingThemes={};var b,c,d,e,f,g,h,i,j,k,l;b=".rating",c=0,d=5,e=.5,f=function(b,c){return null===b||void 0===b||0===b.length||c&&""===a.trim(b)},g=function(a,b){return a?" "+b:""},h=function(a,b){a.removeClass(b).addClass(b)},i=function(a){var b=(""+a).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return b?Math.max(0,(b[1]?b[1].length:0)-(b[2]?+b[2]:0)):0},j=function(a,b){return parseFloat(a.toFixed(b))},k=function(a,c,d,e){var f=e?c:c.split(" ").join(b+" ")+b;a.off(f).on(f,d)},l=function(b,c){var d=this;d.$element=a(b),d._init(c)},l.prototype={constructor:l,_parseAttr:function(a,b){var j,k,l,m,g=this,h=g.$element,i=h.attr("type");if("range"===i||"number"===i){switch(k=b[a]||h.data(a)||h.attr(a),a){case"min":l=c;break;case"max":l=d;break;default:l=e}j=f(k)?l:k,m=parseFloat(j)}else m=parseFloat(b[a]);return isNaN(m)?l:m},_setDefault:function(a,b){var c=this;f(c[a])&&(c[a]=b)},_listenClick:function(a,b){return a.stopPropagation(),a.preventDefault(),a.handled!==!0&&(b(a),void(a.handled=!0))},_starClick:function(a){var c,b=this;b._listenClick(a,function(a){return!b.inactive&&(c=b._getTouchPosition(a),b._setStars(c),b.$element.trigger("change").trigger("rating.change",[b.$element.val(),b._getCaption()]),void(b.starClicked=!0))})},_starMouseMove:function(a){var c,d,b=this;!b.hoverEnabled||b.inactive||a&&a.isDefaultPrevented()||(b.starClicked=!1,c=b._getTouchPosition(a),d=b.calculate(c),b._toggleHover(d),b.$element.trigger("rating.hover",[d.val,d.caption,"stars"]))},_starMouseLeave:function(a){var c,b=this;!b.hoverEnabled||b.inactive||b.starClicked||a&&a.isDefaultPrevented()||(c=b.cache,b._toggleHover(c),b.$element.trigger("rating.hoverleave",["stars"]))},_clearClick:function(a){var b=this;b._listenClick(a,function(){b.inactive||(b.clear(),b.clearClicked=!0)})},_clearMouseMove:function(a){var c,d,e,f,b=this;!b.hoverEnabled||b.inactive||!b.hoverOnClear||a&&a.isDefaultPrevented()||(b.clearClicked=!1,c='<span class="'+b.clearCaptionClass+'">'+b.clearCaption+"</span>",d=b.clearValue,e=b.getWidthFromValue(d)||0,f={caption:c,width:e,val:d},b._toggleHover(f),b.$element.trigger("rating.hover",[d,c,"clear"]))},_clearMouseLeave:function(a){var c,b=this;!b.hoverEnabled||b.inactive||b.clearClicked||!b.hoverOnClear||a&&a.isDefaultPrevented()||(c=b.cache,b._toggleHover(c),b.$element.trigger("rating.hoverleave",["clear"]))},_resetForm:function(a){var b=this;a&&a.isDefaultPrevented()||b.inactive||b.reset()},_setTouch:function(a,b){var d,e,g,h,i,j,k,c=this,l="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch;l&&!c.inactive&&(d=a.originalEvent,e=f(d.touches)?d.changedTouches:d.touches,g=c._getTouchPosition(e[0]),b?(c._setStars(g),c.$element.trigger("change").trigger("rating.change",[c.$element.val(),c._getCaption()]),c.starClicked=!0):(h=c.calculate(g),i=h.val<=c.clearValue?c.fetchCaption(c.clearValue):h.caption,j=c.getWidthFromValue(c.clearValue),k=h.val<=c.clearValue?j+"%":h.width,c._setCaption(i),c.$filledStars.css("width",k)))},_initTouch:function(a){var b=this,c="touchend"===a.type;b._setTouch(a,c)},_initSlider:function(a){var b=this;f(b.$element.val())&&b.$element.val(0),b.initialValue=b.$element.val(),b._setDefault("min",b._parseAttr("min",a)),b._setDefault("max",b._parseAttr("max",a)),b._setDefault("step",b._parseAttr("step",a)),(isNaN(b.min)||f(b.min))&&(b.min=c),(isNaN(b.max)||f(b.max))&&(b.max=d),(isNaN(b.step)||f(b.step)||0===b.step)&&(b.step=e),b.diff=b.max-b.min},_initHighlight:function(a){var c,b=this,d=b._getCaption();a||(a=b.$element.val()),c=b.getWidthFromValue(a)+"%",b.$filledStars.width(c),b.cache={caption:d,width:c,val:a}},_getContainerCss:function(){var a=this;return"rating-container"+g(a.theme,"theme-"+a.theme)+g(a.rtl,"rating-rtl")+g(a.size,"rating-"+a.size)+g(a.animate,"rating-animate")+g(a.disabled||a.readonly,"rating-disabled")+g(a.containerClass,a.containerClass)},_checkDisabled:function(){var a=this,b=a.$element,c=a.options;a.disabled=void 0===c.disabled?b.attr("disabled")||!1:c.disabled,a.readonly=void 0===c.readonly?b.attr("readonly")||!1:c.readonly,a.inactive=a.disabled||a.readonly,b.attr({disabled:a.disabled,readonly:a.readonly})},_addContent:function(a,b){var c=this,d=c.$container,e="clear"===a;return c.rtl?e?d.append(b):d.prepend(b):e?d.prepend(b):d.append(b)},_generateRating:function(){var d,e,f,b=this,c=b.$element;e=b.$container=a(document.createElement("div")).insertBefore(c),h(e,b._getContainerCss()),b.$rating=d=a(document.createElement("div")).attr("class","rating").appendTo(e).append(b._getStars("empty")).append(b._getStars("filled")),b.$emptyStars=d.find(".empty-stars"),b.$filledStars=d.find(".filled-stars"),b._renderCaption(),b._renderClear(),b._initHighlight(),e.append(c),b.rtl&&(f=Math.max(b.$emptyStars.outerWidth(),b.$filledStars.outerWidth()),b.$emptyStars.width(f))},_getCaption:function(){var a=this;return a.$caption&&a.$caption.length?a.$caption.html():a.defaultCaption},_setCaption:function(a){var b=this;b.$caption&&b.$caption.length&&b.$caption.html(a)},_renderCaption:function(){var d,b=this,c=b.$element.val(),e=b.captionElement?a(b.captionElement):"";if(b.showCaption){if(d=b.fetchCaption(c),e&&e.length)return h(e,"caption"),e.html(d),void(b.$caption=e);b._addContent("caption",'<div class="caption">'+d+"</div>"),b.$caption=b.$container.find(".caption")}},_renderClear:function(){var c,b=this,d=b.clearElement?a(b.clearElement):"";if(b.showClear){if(c=b._getClearClass(),d.length)return h(d,c),d.attr({title:b.clearButtonTitle}).html(b.clearButton),void(b.$clear=d);b._addContent("clear",'<div class="'+c+'" title="'+b.clearButtonTitle+'">'+b.clearButton+"</div>"),b.$clear=b.$container.find("."+b.clearButtonBaseClass)}},_getClearClass:function(){return this.clearButtonBaseClass+" "+(this.inactive?"":this.clearButtonActiveClass)},_getTouchPosition:function(a){var b=f(a.pageX)?a.originalEvent.touches[0].pageX:a.pageX;return b-this.$rating.offset().left},_toggleHover:function(a){var c,d,e,b=this;a&&(b.hoverChangeStars&&(c=b.getWidthFromValue(b.clearValue),d=a.val<=b.clearValue?c+"%":a.width,b.$filledStars.css("width",d)),b.hoverChangeCaption&&(e=a.val<=b.clearValue?b.fetchCaption(b.clearValue):a.caption,e&&b._setCaption(e+"")))},_init:function(b){var c=this,d=c.$element.addClass("hide");return c.options=b,a.each(b,function(a,b){c[a]=b}),(c.rtl||"rtl"===d.attr("dir"))&&(c.rtl=!0,d.attr("dir","rtl")),c.starClicked=!1,c.clearClicked=!1,c._initSlider(b),c._checkDisabled(),c.displayOnly&&(c.inactive=!0,c.showClear=!1,c.showCaption=!1),c._generateRating(),c._listen(),d.removeClass("rating-loading")},_listen:function(){var b=this,c=b.$element,d=c.closest("form"),e=b.$rating,f=b.$clear;return k(e,"touchstart touchmove touchend",a.proxy(b._initTouch,b)),k(e,"click touchstart",a.proxy(b._starClick,b)),k(e,"mousemove",a.proxy(b._starMouseMove,b)),k(e,"mouseleave",a.proxy(b._starMouseLeave,b)),b.showClear&&f.length&&(k(f,"click touchstart",a.proxy(b._clearClick,b)),k(f,"mousemove",a.proxy(b._clearMouseMove,b)),k(f,"mouseleave",a.proxy(b._clearMouseLeave,b))),d.length&&k(d,"reset",a.proxy(b._resetForm,b)),c},_getStars:function(a){var d,b=this,c='<span class="'+a+'-stars">';for(d=1;d<=b.stars;d++)c+='<span class="star">'+b[a+"Star"]+"</span>";return c+"</span>"},_setStars:function(a){var b=this,c=arguments.length?b.calculate(a):b.calculate(),d=b.$element;return d.val(c.val),b.$filledStars.css("width",c.width),b._setCaption(c.caption),b.cache=c,d},showStars:function(a){var b=this,c=parseFloat(a);return b.$element.val(isNaN(c)?b.clearValue:c),b._setStars()},calculate:function(a){var b=this,c=f(b.$element.val())?0:b.$element.val(),d=arguments.length?b.getValueFromPosition(a):c,e=b.fetchCaption(d),g=b.getWidthFromValue(d);return g+="%",{caption:e,width:g,val:d}},getValueFromPosition:function(a){var d,e,b=this,c=i(b.step),f=b.$rating.width();return e=b.diff*a/(f*b.step),e=b.rtl?Math.floor(e):Math.ceil(e),d=j(parseFloat(b.min+e*b.step),c),d=Math.max(Math.min(d,b.max),b.min),b.rtl?b.max-d:d},getWidthFromValue:function(a){var e,g,b=this,c=b.min,d=b.max,f=b.$emptyStars;return!a||a<=c||c===d?0:(g=f.outerWidth(),e=g?f.width()/g:1,a>=d?100:(a-c)*e*100/(d-c))},fetchCaption:function(a){var d,e,g,h,k,b=this,c=parseFloat(a)||b.clearValue,l=b.starCaptions,m=b.starCaptionClasses;return c&&c!==b.clearValue&&(c=j(c,i(b.step))),h="function"==typeof m?m(c):m[c],g="function"==typeof l?l(c):l[c],e=f(g)?b.defaultCaption.replace(/\{rating}/g,c):g,d=f(h)?b.clearCaptionClass:h,k=c===b.clearValue?b.clearCaption:e,'<span class="'+d+'">'+k+"</span>"},destroy:function(){var b=this,c=b.$element;return f(b.$container)||b.$container.before(c).remove(),a.removeData(c.get(0)),c.off("rating").removeClass("hide")},create:function(a){var b=this,c=a||b.options||{};return b.destroy().rating(c)},clear:function(){var a=this,b='<span class="'+a.clearCaptionClass+'">'+a.clearCaption+"</span>";return a.inactive||a._setCaption(b),a.showStars(a.clearValue).trigger("change").trigger("rating.clear")},reset:function(){var a=this;return a.showStars(a.initialValue).trigger("rating.reset")},update:function(a){var b=this;return arguments.length?b.showStars(a):b.$element},refresh:function(b){var c=this,d=c.$element;return b?c.destroy().rating(a.extend(!0,c.options,b)).trigger("rating.refresh"):d}},a.fn.rating=function(b){var c=Array.apply(null,arguments),d=[];switch(c.shift(),this.each(function(){var n,e=a(this),g=e.data("rating"),h="object"==typeof b&&b,i=h.theme||e.data("theme"),j=h.language||e.data("language")||"en",k={},m={};g||(i&&(k=a.fn.ratingThemes[i]||{}),"en"===j||f(a.fn.ratingLocales[j])||(m=a.fn.ratingLocales[j]),n=a.extend(!0,{},a.fn.rating.defaults,k,a.fn.ratingLocales.en,m,h,e.data()),g=new l(this,n),e.data("rating",g)),"string"==typeof b&&d.push(g[b].apply(g,c))}),d.length){case 0:return this;case 1:return void 0===d[0]?this:d[0];default:return d}},a.fn.rating.defaults={theme:"",language:"en",stars:5,filledStar:'<i class="fa fa-star"></i>',emptyStar:'<i class="fa fa-star-o"></i>',containerClass:"",size:"md",animate:!0,displayOnly:!1,rtl:!1,showClear:!0,showCaption:!0,starCaptionClasses:{.5:"label label-danger",1:"label label-danger",1.5:"label label-warning",2:"label label-warning",2.5:"label label-info",3:"label label-info",3.5:"label label-primary",4:"label label-primary",4.5:"label label-success",5:"label label-success"},clearButton:'<i class="fa fa-minus-circle"></i>',clearButtonBaseClass:"clear-rating",clearButtonActiveClass:"clear-rating-active",clearCaptionClass:"label label-default",clearValue:null,captionElement:null,clearElement:null,hoverEnabled:!0,hoverChangeCaption:!0,hoverChangeStars:!0,hoverOnClear:!0},a.fn.ratingLocales.en={defaultCaption:"{rating} Stars",starCaptions:{.5:"Half Star",1:"One Star",1.5:"One & Half Star",2:"Two Stars",2.5:"Two & Half Stars",3:"Three Stars",3.5:"Three & Half Stars",4:"Four Stars",4.5:"Four & Half Stars",5:"Five Stars"},clearButtonTitle:"Clear",clearCaption:"Not Rated"},a.fn.rating.Constructor=l,a(document).ready(function(){var b=a("input.rating");b.length&&b.removeClass("rating-loading").addClass("rating-loading").rating()})});